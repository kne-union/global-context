"use strict";(self.webpackChunk_kne_components_global_context=self.webpackChunk_kne_components_global_context||[]).push([[690],{5690(n,t,e){e.r(t),e.d(t,{default:()=>l,manifest:()=>d});var o=e(2124);const l={GlobalContext:{name:"global-context",summary:"<p>Global Context \u662f\u4e00\u4e2a\u4e13\u4e3a React \u5e94\u7528\u8bbe\u8ba1\u7684\u5168\u5c40\u72b6\u6001\u7ba1\u7406\u89e3\u51b3\u65b9\u6848\uff0c\u7279\u522b\u9002\u7528\u4e8e\u4f7f\u7528\u591a\u4e2a Webpack \u8054\u90a6\u6a21\u5757\u7684\u590d\u6742\u9879\u76ee\u67b6\u6784\u3002\u8be5\u9879\u76ee\u901a\u8fc7\u63d0\u4f9b\u5168\u5c40\u552f\u4e00\u7684 Context \u5b9e\u4f8b\uff0c\u6709\u6548\u89e3\u51b3\u4e86\u4e0d\u540c\u6a21\u5757\u7248\u672c\u95f4 Context \u9694\u79bb\u7684\u95ee\u9898\uff0c\u786e\u4fdd\u8de8\u6a21\u5757\u7ec4\u4ef6\u95f4\u7684\u6570\u636e\u5171\u4eab\u548c\u72b6\u6001\u540c\u6b65\u3002</p>\n<p><strong>\u6838\u5fc3\u7279\u6027</strong></p>\n<ul>\n<li>\u63d0\u4f9b\u5168\u5c40\u552f\u4e00\u7684 Context\uff0c\u652f\u6301\u8de8\u6a21\u5757\u6570\u636e\u5171\u4eab</li>\n<li>\u517c\u5bb9 Webpack \u8054\u90a6\u6a21\u5757\u7cfb\u7edf\uff0c\u907f\u514d\u7248\u672c\u51b2\u7a81</li>\n<li>\u5185\u7f6e\u9009\u62e9\u5668\u6a21\u5f0f\uff0c\u4f18\u5316\u7ec4\u4ef6\u6e32\u67d3\u6027\u80fd</li>\n<li>\u652f\u6301\u5f02\u6b65\u6570\u636e\u52a0\u8f7d\u548c\u9884\u8bbe\u503c\u914d\u7f6e</li>\n<li>\u8f7b\u91cf\u7ea7\u8bbe\u8ba1\uff0c\u65e0\u989d\u5916\u4f9d\u8d56\uff0c\u6613\u4e8e\u96c6\u6210</li>\n</ul>\n<p><strong>\u9002\u7528\u573a\u666f</strong></p>\n<ul>\n<li>\u5fae\u524d\u7aef\u67b6\u6784\u4e2d\u7684\u8de8\u5e94\u7528\u72b6\u6001\u7ba1\u7406</li>\n<li>\u591a\u6a21\u5757\u8054\u90a6\u7cfb\u7edf\u4e2d\u7684\u6570\u636e\u540c\u6b65\u9700\u6c42</li>\n<li>\u9700\u8981\u5168\u5c40\u914d\u7f6e\u4fe1\u606f\u5171\u4eab\u7684\u5927\u578b React \u9879\u76ee</li>\n<li>\u7ec4\u4ef6\u5e93\u4e0e\u4e1a\u52a1\u5e94\u7528\u95f4\u7684\u53c2\u6570\u4f20\u9012\u573a\u666f</li>\n</ul>\n<p><strong>\u6280\u672f\u4eae\u70b9</strong>\n\u91c7\u7528 React 18 \u6700\u65b0\u7279\u6027\uff0c\u57fa\u4e8e useSyncExternalStore \u5b9e\u73b0\u9ad8\u6548\u7684\u72b6\u6001\u8ba2\u9605\u673a\u5236\u3002\u901a\u8fc7 Context \u9694\u79bb\u548c\u9009\u62e9\u5668\u6a21\u5f0f\uff0c\u5728\u4fdd\u8bc1\u5168\u5c40\u72b6\u6001\u53ef\u8bbf\u95ee\u6027\u7684\u540c\u65f6\uff0c\u6700\u5927\u5316\u51cf\u5c11\u4e86\u4e0d\u5fc5\u8981\u7684\u7ec4\u4ef6\u91cd\u6e32\u67d3\u3002\u9879\u76ee\u8bbe\u8ba1\u9075\u5faa React \u6700\u4f73\u5b9e\u8df5\uff0c\u63d0\u4f9b\u5b8c\u6574\u7684 TypeScript \u7c7b\u578b\u652f\u6301\uff0c\u786e\u4fdd\u5f00\u53d1\u4f53\u9a8c\u548c\u4ee3\u7801\u8d28\u91cf\u3002</p>",description:"\u63d0\u4f9b\u4e00\u4e2a\u5168\u5c40\u552f\u4e00\u7684context\uff0c\u7528\u5728\u591a\u4e2awebpack \u90a6\u8054\u6a21\u5757\u7cfb\u7edf\u4e2d\uff0c\u53ef\u4ee5\u907f\u514d\u4e0d\u540c\u7248\u672c\u5bfc\u81f4context\u83b7\u53d6\u95ee\u9898",packageName:"@kne/global-context",api:"<h3>Global</h3>\n<p>\u5168\u5c40\u72b6\u6001\u7ba1\u7406\u7ec4\u4ef6\uff0c\u63d0\u4f9b\u8de8\u6a21\u5757\u7684\u6570\u636e\u5171\u4eab\u80fd\u529b\u3002</p>\n<h4>\u5c5e\u6027\u8bf4\u660e</h4>\n<table>\n<thead>\n<tr>\n<th>\u5c5e\u6027\u540d</th>\n<th>\u7c7b\u578b</th>\n<th>\u5fc5\u586b</th>\n<th>\u9ed8\u8ba4\u503c</th>\n<th>\u8bf4\u660e</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>preset</td>\n<td>object</td>\n<td>\u5426</td>\n<td>-</td>\n<td>\u9884\u8bbe\u914d\u7f6e\u6570\u636e</td>\n</tr>\n<tr>\n<td>children</td>\n<td>ReactNode</td>\n<td>\u662f</td>\n<td>-</td>\n<td>\u5b50\u7ec4\u4ef6</td>\n</tr>\n<tr>\n<td>initValue</td>\n<td>object</td>\n<td>\u5426</td>\n<td>{}</td>\n<td>\u521d\u59cb\u5168\u5c40\u72b6\u6001\u503c</td>\n</tr>\n</tbody>\n</table>\n<h3>GlobalSetting</h3>\n<p>\u5168\u5c40\u72b6\u6001\u8bbe\u7f6e\u7ec4\u4ef6\uff0c\u652f\u6301\u5f02\u6b65\u6570\u636e\u52a0\u8f7d\u3002</p>\n<h4>\u5c5e\u6027\u8bf4\u660e</h4>\n<table>\n<thead>\n<tr>\n<th>\u5c5e\u6027\u540d</th>\n<th>\u7c7b\u578b</th>\n<th>\u5fc5\u586b</th>\n<th>\u9ed8\u8ba4\u503c</th>\n<th>\u8bf4\u660e</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>loader</td>\n<td>function</td>\n<td>\u662f</td>\n<td>-</td>\n<td>\u5f02\u6b65\u52a0\u8f7d\u51fd\u6570\uff0c\u8fd4\u56de Promise</td>\n</tr>\n<tr>\n<td>needReady</td>\n<td>boolean</td>\n<td>\u5426</td>\n<td>true</td>\n<td>\u662f\u5426\u9700\u8981\u7b49\u5f85\u52a0\u8f7d\u5b8c\u6210</td>\n</tr>\n<tr>\n<td>children</td>\n<td>ReactNode</td>\n<td>\u662f</td>\n<td>-</td>\n<td>\u5b50\u7ec4\u4ef6</td>\n</tr>\n</tbody>\n</table>\n<h3>GlobalValue</h3>\n<p>\u5168\u5c40\u72b6\u6001\u503c\u6e32\u67d3\u7ec4\u4ef6\uff0c\u901a\u8fc7\u6e32\u67d3\u51fd\u6570\u6a21\u5f0f\u83b7\u53d6\u72b6\u6001\u503c\u3002</p>\n<h4>\u5c5e\u6027\u8bf4\u660e</h4>\n<table>\n<thead>\n<tr>\n<th>\u5c5e\u6027\u540d</th>\n<th>\u7c7b\u578b</th>\n<th>\u5fc5\u586b</th>\n<th>\u9ed8\u8ba4\u503c</th>\n<th>\u8bf4\u660e</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>globalKey</td>\n<td>string</td>\n<td>\u662f</td>\n<td>-</td>\n<td>\u5168\u5c40\u72b6\u6001\u952e\u540d</td>\n</tr>\n<tr>\n<td>children</td>\n<td>function</td>\n<td>\u662f</td>\n<td>-</td>\n<td>\u6e32\u67d3\u51fd\u6570\uff0c\u63a5\u6536 value \u53c2\u6570</td>\n</tr>\n</tbody>\n</table>\n<h3>Preset</h3>\n<p>\u9884\u8bbe\u914d\u7f6e\u6e32\u67d3\u7ec4\u4ef6\uff0c\u901a\u8fc7\u6e32\u67d3\u51fd\u6570\u6a21\u5f0f\u83b7\u53d6\u9884\u8bbe\u503c\u3002</p>\n<h4>\u5c5e\u6027\u8bf4\u660e</h4>\n<table>\n<thead>\n<tr>\n<th>\u5c5e\u6027\u540d</th>\n<th>\u7c7b\u578b</th>\n<th>\u5fc5\u586b</th>\n<th>\u9ed8\u8ba4\u503c</th>\n<th>\u8bf4\u660e</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>children</td>\n<td>function</td>\n<td>\u662f</td>\n<td>-</td>\n<td>\u6e32\u67d3\u51fd\u6570\uff0c\u63a5\u6536 preset \u53c2\u6570</td>\n</tr>\n</tbody>\n</table>\n<h3>createContext</h3>\n<p>\u521b\u5efa Context \u5b9e\u4f8b\u7684\u5de5\u5177\u51fd\u6570\u3002</p>\n<h4>\u8fd4\u56de\u503c</h4>\n<table>\n<thead>\n<tr>\n<th>\u5c5e\u6027\u540d</th>\n<th>\u7c7b\u578b</th>\n<th>\u8bf4\u660e</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>context</td>\n<td>Context</td>\n<td>React Context \u5bf9\u8c61</td>\n</tr>\n<tr>\n<td>Provider</td>\n<td>Component</td>\n<td>Context Provider \u7ec4\u4ef6</td>\n</tr>\n<tr>\n<td>Consumer</td>\n<td>Component</td>\n<td>Context Consumer \u7ec4\u4ef6</td>\n</tr>\n<tr>\n<td>useContext</td>\n<td>function</td>\n<td>\u83b7\u53d6 Context \u503c\u7684 Hook</td>\n</tr>\n</tbody>\n</table>\n<h3>useSelectorContext</h3>\n<p>\u521b\u5efa\u9009\u62e9\u5668 Context \u7684\u5de5\u5177\u51fd\u6570\uff0c\u652f\u6301\u7ec6\u7c92\u5ea6\u72b6\u6001\u8ba2\u9605\u3002</p>\n<h4>\u8fd4\u56de\u503c</h4>\n<table>\n<thead>\n<tr>\n<th>\u5c5e\u6027\u540d</th>\n<th>\u7c7b\u578b</th>\n<th>\u8bf4\u660e</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>context</td>\n<td>Context</td>\n<td>React Context \u5bf9\u8c61</td>\n</tr>\n<tr>\n<td>Provider</td>\n<td>Component</td>\n<td>\u9009\u62e9\u5668 Provider \u7ec4\u4ef6</td>\n</tr>\n<tr>\n<td>useContext</td>\n<td>function</td>\n<td>\u9009\u62e9\u5668 Hook</td>\n</tr>\n</tbody>\n</table>\n<h3>useGlobalContext</h3>\n<p>\u83b7\u53d6\u5168\u5c40 Context \u503c\u7684 Hook\u3002</p>\n<h4>\u8fd4\u56de\u503c</h4>\n<table>\n<thead>\n<tr>\n<th>\u7c7b\u578b</th>\n<th>\u8bf4\u660e</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>object</td>\n<td>\u5305\u542b global\u3001setGlobal\u3001setGlobalValue \u7684\u5bf9\u8c61</td>\n</tr>\n</tbody>\n</table>\n<h3>useGlobalValue</h3>\n<p>\u6839\u636e\u952e\u540d\u83b7\u53d6\u5168\u5c40\u72b6\u6001\u503c\u7684 Hook\u3002</p>\n<h4>\u53c2\u6570</h4>\n<table>\n<thead>\n<tr>\n<th>\u53c2\u6570\u540d</th>\n<th>\u7c7b\u578b</th>\n<th>\u5fc5\u586b</th>\n<th>\u8bf4\u660e</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>globalKey</td>\n<td>string</td>\n<td>\u662f</td>\n<td>\u5168\u5c40\u72b6\u6001\u952e\u540d</td>\n</tr>\n</tbody>\n</table>\n<h4>\u8fd4\u56de\u503c</h4>\n<table>\n<thead>\n<tr>\n<th>\u7c7b\u578b</th>\n<th>\u8bf4\u660e</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>any</td>\n<td>\u5bf9\u5e94\u952e\u540d\u7684\u5168\u5c40\u72b6\u6001\u503c</td>\n</tr>\n</tbody>\n</table>\n<h3>usePreset</h3>\n<p>\u83b7\u53d6\u9884\u8bbe\u914d\u7f6e\u503c\u7684 Hook\u3002</p>\n<h4>\u8fd4\u56de\u503c</h4>\n<table>\n<thead>\n<tr>\n<th>\u7c7b\u578b</th>\n<th>\u8bf4\u660e</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>object</td>\n<td>\u9884\u8bbe\u914d\u7f6e\u5bf9\u8c61</td>\n</tr>\n</tbody>\n</table>\n<h3>useSelectorContext</h3>\n<p>\u4f7f\u7528\u9009\u62e9\u5668\u8ba2\u9605\u72b6\u6001\u53d8\u5316\u7684 Hook\u3002</p>\n<h4>\u53c2\u6570</h4>\n<table>\n<thead>\n<tr>\n<th>\u53c2\u6570\u540d</th>\n<th>\u7c7b\u578b</th>\n<th>\u5fc5\u586b</th>\n<th>\u8bf4\u660e</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>selector</td>\n<td>function</td>\n<td>\u662f</td>\n<td>\u9009\u62e9\u5668\u51fd\u6570</td>\n</tr>\n</tbody>\n</table>\n<h4>\u8fd4\u56de\u503c</h4>\n<table>\n<thead>\n<tr>\n<th>\u7c7b\u578b</th>\n<th>\u8bf4\u660e</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>any</td>\n<td>\u9009\u62e9\u5668\u51fd\u6570\u7684\u8fd4\u56de\u503c</td>\n</tr>\n</tbody>\n</table>",example:{isFull:!1,className:"global_context_7eeb0",style:"",list:[{title:"\u57fa\u7840\u4e0a\u4e0b\u6587",description:"\u5c55\u793aProvider\u548cuseContext\u7684\u57fa\u672c\u4f7f\u7528\u65b9\u6cd5",code:"const {Provider, useContext} = globalContext;\n\nconst ChildrenComponent = () => {\n    const value = useContext();\n    return <div>context value: {JSON.stringify(value)}</div>;\n};\n\nconst BaseExample = () => {\n    return <Provider value={{a: 1}}>\n        <div>\u6211\u662f\u4e00\u4e2a\u793a\u4f8b\u7ec4\u4ef6</div>\n        <ChildrenComponent/>\n    </Provider>;\n};\n\nrender(<BaseExample/>);\n\n",scope:[{name:"globalContext",packageName:"@kne/current-lib_global-context",component:o}]},{title:"\u5168\u5c40\u72b6\u6001\u7ba1\u7406",description:"\u4f7f\u7528Global\u7ec4\u4ef6\u7ba1\u7406\u5168\u5c40\u72b6\u6001\uff0c\u652f\u6301\u9884\u8bbe\u548c\u5f02\u6b65\u52a0\u8f7d",code:'const { Global, GlobalSetting, GlobalValue, Preset } = globalContext;\n\nconst BaseExample = () => {\n  return <Global preset={{ a: 1 }}>\n    <GlobalSetting loader={() => {\n      return new Promise((resolve) => {\n        setTimeout(() => {\n          resolve({ userName: "Linzp" });\n        }, 1000);\n      });\n    }}>\n      userName:<GlobalValue globalKey="userName">{({ value }) => value}</GlobalValue>\n    </GlobalSetting>\n    <Preset>{({ a }) => a}</Preset>\n  </Global>;\n};\n\nrender(<BaseExample />);\n\n',scope:[{name:"globalContext",packageName:"@kne/current-lib_global-context",component:o}]},{title:"\u6027\u80fd\u4f18\u5316\u6e32\u67d3",description:"\u4f7f\u7528useGlobalValue\u907f\u514d\u4e0d\u5fc5\u8981\u7684\u7ec4\u4ef6\u91cd\u6e32\u67d3",code:"const {Global, useGlobalValue, useContext} = globalContext;\n\nconst Children1Component = () => {\n    console.log('children1 render');\n    const value = useGlobalValue('a');\n    return <div>context value.a: {value}</div>;\n};\n\nconst Children2Component = () => {\n    console.log('children2 render');\n    const value = useGlobalValue('b');\n    return <div>context value.b: {value}</div>;\n};\n\nconst ChildrenSetValue = () => {\n    const {setGlobalValue} = useContext();\n\n    return <div>\n        <button onClick={() => {\n            setGlobalValue('a', a => a + 1);\n        }}>a + 1\n        </button>\n        <button onClick={() => {\n            setGlobalValue('b', b => b + 1);\n        }}>b + 1\n        </button>\n    </div>\n};\n\nconst BaseExample = () => {\n    return <Global initValue={{a: 1, b: 2}}>\n        <div>\u6211\u662f\u4e00\u4e2a\u793a\u4f8b\u7ec4\u4ef6</div>\n        <Children1Component/>\n        <Children2Component/>\n        <ChildrenSetValue/>\n    </Global>;\n};\n\nrender(<BaseExample/>);\n\n",scope:[{name:"globalContext",packageName:"@kne/current-lib_global-context",component:o}]},{title:"\u591a\u5c42\u7ea7\u60c5\u51b5",description:"\u591a\u5c42\u7ea7\u60c5\u51b5",code:"const {Global, useGlobalValue, useContext} = globalContext;\n\nconst ChildrenComponent = ({children}) => {\n    const value = useGlobalValue('a');\n    const value2 = useGlobalValue('b');\n    console.log('ChildrenComponent render');\n    return <div>\n        context value.a: {value}\n        <Global initValue={{a: value, b: value2}}>\n            {children}\n        </Global>\n    </div>;\n};\n\nconst SetGlobal = () => {\n    const {setGlobal} = useContext();\n    return <button onClick={() => {\n        setGlobal(global => {\n            return Object.assign({}, global, {a: global.a + 1});\n        })\n    }}>a + 1</button>\n};\n\nconst BaseExample = () => {\n    return <>\n        <ChildrenComponent/>\n        <Global initValue={{a: 1, b: 2}}>\n            <ChildrenComponent>\n                <ChildrenComponent/>\n                <SetGlobal/>\n            </ChildrenComponent>\n            <SetGlobal/>\n            <Global initValue={{a: 10, b: 20}}>\n                <ChildrenComponent>\n                    <ChildrenComponent/>\n                    <SetGlobal/>\n                </ChildrenComponent>\n                <SetGlobal/>\n            </Global>\n        </Global>\n    </>;\n};\n\nrender(<BaseExample/>);\n\n",scope:[{name:"globalContext",packageName:"@kne/current-lib_global-context",component:o}]}]}}},d={name:"global-context",version:"1.3.1","open-version":!0,"public-url":"/global-context",modules:[{name:"global-context",baseDir:"/home/runner/work/global-context/global-context",description:"\u63d0\u4f9b\u4e00\u4e2a\u5168\u5c40\u552f\u4e00\u7684context\uff0c\u7528\u5728\u591a\u4e2awebpack \u90a6\u8054\u6a21\u5757\u7cfb\u7edf\u4e2d\uff0c\u53ef\u4ee5\u907f\u514d\u4e0d\u540c\u7248\u672c\u5bfc\u81f4context\u83b7\u53d6\u95ee\u9898",packageName:"@kne/global-context"}]}}}]);
//# sourceMappingURL=690.70901b78.chunk.js.map