"use strict";(self.webpackChunk_kne_components_global_context=self.webpackChunk_kne_components_global_context||[]).push([[830],{1830:(e,t,n)=>{n.r(t),n.d(t,{Consumer:()=>a,Global:()=>p,GlobalSetting:()=>g,GlobalValue:()=>v,Preset:()=>C,Provider:()=>u,context:()=>s,createContext:()=>o,default:()=>s,useContext:()=>c,useGlobalContext:()=>i,useGlobalValue:()=>h,usePreset:()=>b});var r=n(4922),l=n.n(r);const o=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=(0,r.createContext)(e),{Provider:n,Consumer:l}=t;return{context:t,Provider:n,Consumer:l,useContext:()=>(0,r.useContext)(t)}},s=o({}),{Provider:u,Consumer:a,useContext:c}=s,i=c,b=()=>{const e=c();return Object.assign({},{apis:{}},null==e?void 0:e.preset)};function f(){return f=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},f.apply(null,arguments)}const d=["preset","children"],p=e=>{let{preset:t,children:n}=e,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,d);const[s,a]=(0,r.useState)({}),c=(0,r.useCallback)(((e,t)=>{a((n=>Object.assign({},n,{[e]:"function"===typeof t?t(n[e]):t})))}),[]);return l().createElement(u,{value:f({},o,{global:s,preset:t,setGlobal:a,setGlobalWithKey:c})},n)},g=e=>{let{loader:t,needReady:n=!0,children:l}=e;const[o,s]=(0,r.useState)(!1),{global:u,setGlobal:a}=c(),i=(0,r.useRef)(null),b=(0,r.useRef)(t);return(0,r.useEffect)((()=>{b.current().then((e=>{a((t=>{const n=Object.assign({},t,e);return i.current=n,n}))}))}),[]),(0,r.useEffect)((()=>{u===i.current&&s(!0)}),[u]),n&&!o?null:l},h=e=>{const{global:t}=c();return t[e]},v=e=>{let{globalKey:t,children:n}=e;return n({value:h(t)})},C=e=>{let{children:t}=e;return t(b())}}}]);
//# sourceMappingURL=830.269c4c2c.chunk.js.map