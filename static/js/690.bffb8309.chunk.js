"use strict";(self.webpackChunk_kne_components_global_context=self.webpackChunk_kne_components_global_context||[]).push([[690],{5690:(t,n,e)=>{e.r(n),e.d(n,{default:()=>o,manifest:()=>a});var l=e(2124);const o={GlobalContext:{name:"global-context",summary:"<p>@kne/global-context \u662f\u4e00\u4e2a\u8f7b\u91cf\u7ea7\u7684 React \u5168\u5c40\u4e0a\u4e0b\u6587\u7ba1\u7406\u5e93\uff0c\u4e13\u4e3a\u5fae\u524d\u7aef\u67b6\u6784\u8bbe\u8ba1\uff0c\u786e\u4fdd\u5728\u591a\u4e2a webpack \u8054\u90a6\u6a21\u5757\u7cfb\u7edf\u4e2d\u63d0\u4f9b\u5168\u5c40\u552f\u4e00\u7684 context\u3002</p>\n<h3>\u7279\u6027</h3>\n<h4>\u6838\u5fc3\u529f\u80fd</h4>\n<ul>\n<li>\u63d0\u4f9b\u5168\u5c40\u552f\u4e00\u7684 context \u5b9e\u4f8b</li>\n<li>\u652f\u6301\u9884\u8bbe\u503c\u7ba1\u7406</li>\n<li>\u7b80\u5316\u7684\u5168\u5c40\u72b6\u6001\u8bbf\u95ee</li>\n<li>\u652f\u6301\u52a8\u6001\u503c\u66f4\u65b0</li>\n</ul>\n<h4>\u6280\u672f\u4f18\u52bf</h4>\n<ul>\n<li>\u8f7b\u91cf\u7ea7\u5b9e\u73b0</li>\n<li>\u57fa\u4e8e React Context API</li>\n<li>\u652f\u6301 TypeScript</li>\n<li>\u9002\u914d\u5fae\u524d\u7aef\u67b6\u6784</li>\n</ul>\n<h3>\u67b6\u6784\u8bbe\u8ba1</h3>\n<h4>\u6838\u5fc3\u6a21\u5757</h4>\n<ul>\n<li><strong>globalContext</strong>: \u5168\u5c40\u552f\u4e00\u7684\u4e0a\u4e0b\u6587\u5b9e\u4f8b</li>\n<li><strong>createContext</strong>: \u4e0a\u4e0b\u6587\u521b\u5efa\u5de5\u5177</li>\n<li><strong>Global</strong>: \u5168\u5c40\u72b6\u6001\u5bb9\u5668</li>\n</ul>\n<h4>\u6570\u636e\u6d41</h4>\n<pre><code>Provider (\u5168\u5c40\u4e0a\u4e0b\u6587)\n    \u2193\nGlobalSetting (\u8bbe\u7f6e\u503c)\n    \u2193\nGlobal (\u72b6\u6001\u7ba1\u7406)\n    \u2193\nGlobalValue/useGlobalValue (\u83b7\u53d6\u503c)\n</code></pre>\n<h3>\u4f7f\u7528\u573a\u666f</h3>\n<h4>\u5fae\u524d\u7aef\u5e94\u7528</h4>\n<ul>\n<li>\u8de8\u6a21\u5757\u72b6\u6001\u5171\u4eab</li>\n<li>\u7edf\u4e00\u914d\u7f6e\u7ba1\u7406</li>\n<li>\u4e3b\u9898\u6837\u5f0f\u540c\u6b65</li>\n</ul>\n<h4>\u72b6\u6001\u7ba1\u7406</h4>\n<ul>\n<li>\u7528\u6237\u8ba4\u8bc1\u4fe1\u606f</li>\n<li>\u5168\u5c40\u914d\u7f6e\u9879</li>\n<li>\u4e3b\u9898\u8bbe\u7f6e</li>\n</ul>\n<h3>\u6700\u4f73\u5b9e\u8df5</h3>\n<h4>\u57fa\u672c\u539f\u5219</h4>\n<ul>\n<li>\u5728\u5e94\u7528\u9876\u5c42\u4f7f\u7528 Provider</li>\n<li>\u5408\u7406\u4f7f\u7528\u9884\u8bbe\u503c</li>\n<li>\u907f\u514d\u8fc7\u5ea6\u4f7f\u7528\u5168\u5c40\u72b6\u6001</li>\n</ul>\n<h4>\u6027\u80fd\u4f18\u5316</h4>\n<ul>\n<li>\u4f7f\u7528 hooks \u4ee3\u66ff\u7ec4\u4ef6\u5f0fAPI</li>\n<li>\u5408\u7406\u5212\u5206\u5168\u5c40\u72b6\u6001</li>\n<li>\u907f\u514d\u9891\u7e41\u66f4\u65b0</li>\n</ul>",description:"\u63d0\u4f9b\u4e00\u4e2a\u5168\u5c40\u552f\u4e00\u7684context\uff0c\u7528\u5728\u591a\u4e2awebpack \u90a6\u8054\u6a21\u5757\u7cfb\u7edf\u4e2d\uff0c\u53ef\u4ee5\u907f\u514d\u4e0d\u540c\u7248\u672c\u5bfc\u81f4context\u83b7\u53d6\u95ee\u9898",packageName:"@kne/global-context",api:'<h3>API \u53c2\u8003</h3>\n<h4>\u6838\u5fc3\u7ec4\u4ef6</h4>\n<table>\n<thead>\n<tr>\n<th>\u7ec4\u4ef6\u540d</th>\n<th>\u63cf\u8ff0</th>\n<th>\u5bfc\u5165\u65b9\u5f0f</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>Global</td>\n<td>\u5168\u5c40\u72b6\u6001\u5bb9\u5668\u7ec4\u4ef6</td>\n<td><code>import { Global } from \'@kne/global-context\'</code></td>\n</tr>\n<tr>\n<td>GlobalSetting</td>\n<td>\u8bbe\u7f6e\u5168\u5c40\u503c\u7684\u7ec4\u4ef6</td>\n<td><code>import { GlobalSetting } from \'@kne/global-context\'</code></td>\n</tr>\n<tr>\n<td>GlobalValue</td>\n<td>\u83b7\u53d6\u5168\u5c40\u503c\u7684\u7ec4\u4ef6</td>\n<td><code>import { GlobalValue } from \'@kne/global-context\'</code></td>\n</tr>\n</tbody>\n</table>\n<h4>Global</h4>\n<p>\u5168\u5c40\u72b6\u6001\u5bb9\u5668\u7ec4\u4ef6\u7684\u5c5e\u6027\uff1a</p>\n<table>\n<thead>\n<tr>\n<th>\u5c5e\u6027</th>\n<th>\u7c7b\u578b</th>\n<th>\u5fc5\u586b</th>\n<th>\u63cf\u8ff0</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>children</td>\n<td>ReactNode</td>\n<td>\u662f</td>\n<td>\u5b50\u7ec4\u4ef6</td>\n</tr>\n<tr>\n<td>preset</td>\n<td>object</td>\n<td>\u5426</td>\n<td>\u9884\u8bbe\u503c\u5bf9\u8c61</td>\n</tr>\n</tbody>\n</table>\n<pre><code class="language-jsx">&lt;Global preset={{ theme: \'light\' }}&gt;\n  &lt;App /&gt;\n&lt;/Global&gt;\n</code></pre>\n<h4>GlobalSetting</h4>\n<p>\u8bbe\u7f6e\u5168\u5c40\u503c\u7684\u7ec4\u4ef6\u5c5e\u6027\uff1a</p>\n<table>\n<thead>\n<tr>\n<th>\u5c5e\u6027</th>\n<th>\u7c7b\u578b</th>\n<th>\u5fc5\u586b</th>\n<th>\u63cf\u8ff0</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>name</td>\n<td>string</td>\n<td>\u662f</td>\n<td>\u5168\u5c40\u503c\u7684\u952e\u540d</td>\n</tr>\n<tr>\n<td>value</td>\n<td>any</td>\n<td>\u662f</td>\n<td>\u8981\u8bbe\u7f6e\u7684\u503c</td>\n</tr>\n</tbody>\n</table>\n<pre><code class="language-jsx">&lt;GlobalSetting name="theme" value="dark" /&gt;\n</code></pre>\n<h4>GlobalValue</h4>\n<p>\u83b7\u53d6\u5168\u5c40\u503c\u7684\u7ec4\u4ef6\u5c5e\u6027\uff1a</p>\n<table>\n<thead>\n<tr>\n<th>\u5c5e\u6027</th>\n<th>\u7c7b\u578b</th>\n<th>\u5fc5\u586b</th>\n<th>\u63cf\u8ff0</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>name</td>\n<td>string</td>\n<td>\u662f</td>\n<td>\u5168\u5c40\u503c\u7684\u952e\u540d</td>\n</tr>\n<tr>\n<td>children</td>\n<td>(value: any) =&gt; ReactNode</td>\n<td>\u662f</td>\n<td>\u6e32\u67d3\u51fd\u6570</td>\n</tr>\n</tbody>\n</table>\n<pre><code class="language-jsx">&lt;GlobalValue name="theme"&gt;\n  {(theme) =&gt; &lt;div&gt;\u5f53\u524d\u4e3b\u9898\uff1a{theme}&lt;/div&gt;}\n&lt;/GlobalValue&gt;\n</code></pre>\n<h4>Hooks API</h4>\n<table>\n<thead>\n<tr>\n<th>Hook \u540d\u79f0</th>\n<th>\u53c2\u6570</th>\n<th>\u8fd4\u56de\u503c</th>\n<th>\u63cf\u8ff0</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>useGlobalValue</td>\n<td>name: string</td>\n<td>any</td>\n<td>\u83b7\u53d6\u6307\u5b9a\u952e\u540d\u7684\u5168\u5c40\u503c</td>\n</tr>\n<tr>\n<td>usePreset</td>\n<td>-</td>\n<td>object</td>\n<td>\u83b7\u53d6\u9884\u8bbe\u503c\u5bf9\u8c61</td>\n</tr>\n</tbody>\n</table>\n<pre><code class="language-jsx">const theme = useGlobalValue(\'theme\');\nconst preset = usePreset();\n</code></pre>\n<h4>Context API</h4>\n<table>\n<thead>\n<tr>\n<th>API</th>\n<th>\u53c2\u6570</th>\n<th>\u8fd4\u56de\u503c</th>\n<th>\u63cf\u8ff0</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>createContext</td>\n<td>defaultValue?: any</td>\n<td>Context \u5bf9\u8c61</td>\n<td>\u521b\u5efa\u65b0\u7684\u4e0a\u4e0b\u6587\u5b9e\u4f8b</td>\n</tr>\n</tbody>\n</table>\n<p>Context \u5bf9\u8c61\u5305\u542b\u7684\u7ec4\u4ef6\uff1a</p>\n<table>\n<thead>\n<tr>\n<th>\u7ec4\u4ef6</th>\n<th>\u5c5e\u6027</th>\n<th>\u63cf\u8ff0</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>Provider</td>\n<td>value: any</td>\n<td>\u63d0\u4f9b\u4e0a\u4e0b\u6587\u503c\u7684\u7ec4\u4ef6</td>\n</tr>\n<tr>\n<td>Consumer</td>\n<td>children: (value: any) =&gt; ReactNode</td>\n<td>\u6d88\u8d39\u4e0a\u4e0b\u6587\u503c\u7684\u7ec4\u4ef6</td>\n</tr>\n</tbody>\n</table>\n<pre><code class="language-jsx">const MyContext = createContext(defaultValue);\n\n&lt;MyContext.Provider value={value}&gt;\n  &lt;MyContext.Consumer&gt;\n    {value =&gt; /* \u6e32\u67d3\u5185\u5bb9 */}\n  &lt;/MyContext.Consumer&gt;\n&lt;/MyContext.Provider&gt;\n</code></pre>\n<h4>\u7c7b\u578b\u5b9a\u4e49</h4>\n<pre><code class="language-typescript">interface GlobalProps {\n  children: ReactNode;\n  preset?: Record&lt;string, any&gt;;\n}\n\ninterface GlobalSettingProps {\n  name: string;\n  value: any;\n}\n\ninterface GlobalValueProps {\n  name: string;\n  children: (value: any) =&gt; ReactNode;\n}\n</code></pre>',example:{isFull:!1,className:"global_context_7eeb0",style:"",list:[{title:"\u8fd9\u91cc\u586b\u5199\u793a\u4f8b\u6807\u9898",description:"\u8fd9\u91cc\u586b\u5199\u793a\u4f8b\u8bf4\u660e",code:"const { Provider, useContext } = globalContext;\n\nconst ChildrenComponent = () => {\n  const value = useContext();\n\n  return <div>context value: {JSON.stringify(value)}</div>;\n};\n\nconst BaseExample = () => {\n  return <Provider value={{ a: 1 }}>\n    <div>\u6211\u662f\u4e00\u4e2a\u793a\u4f8b\u7ec4\u4ef6</div>\n    <ChildrenComponent />\n  </Provider>;\n};\n\nrender(<BaseExample />);\n\n",scope:[{name:"globalContext",packageName:"@kne/current-lib_global-context",component:l}]},{title:"\u8fd9\u91cc\u586b\u5199\u793a\u4f8b\u6807\u9898",description:"\u8fd9\u91cc\u586b\u5199\u793a\u4f8b\u8bf4\u660e",code:'const { Global, GlobalSetting, GlobalValue, Preset } = globalContext;\n\nconst BaseExample = () => {\n  return <Global preset={{ a: 1 }}>\n    <GlobalSetting loader={() => {\n      return new Promise((resolve) => {\n        setTimeout(() => {\n          resolve({ userName: "Linzp" });\n        }, 1000);\n      });\n    }}>\n      userName:<GlobalValue globalKey="userName">{({ value }) => value}</GlobalValue>\n    </GlobalSetting>\n    <Preset>{({ a }) => a}</Preset>\n  </Global>;\n};\n\nrender(<BaseExample />);\n\n',scope:[{name:"globalContext",packageName:"@kne/current-lib_global-context",component:l}]}]}}},a={name:"global-context",version:"1.2.0","open-version":!0,"public-url":"/global-context",modules:[{name:"global-context",baseDir:"/home/runner/work/global-context/global-context",description:"\u63d0\u4f9b\u4e00\u4e2a\u5168\u5c40\u552f\u4e00\u7684context\uff0c\u7528\u5728\u591a\u4e2awebpack \u90a6\u8054\u6a21\u5757\u7cfb\u7edf\u4e2d\uff0c\u53ef\u4ee5\u907f\u514d\u4e0d\u540c\u7248\u672c\u5bfc\u81f4context\u83b7\u53d6\u95ee\u9898",packageName:"@kne/global-context"}]}}}]);
//# sourceMappingURL=690.bffb8309.chunk.js.map